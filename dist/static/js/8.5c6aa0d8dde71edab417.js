webpackJsonp([8,12],{304:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var s=i(344),n=a(s);t.exports=n.default},344:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var s=i(36),n=a(s),l=i(22);t.exports={name:"list",data:function(){return{limit:10,page:1,slide_list:[],slide_count:0,listLoading:!1,dialogPictures:!1,image_host:l.gbs.image_host,picture:"",isIndeterminate:!0,dialogEdit:!1,batch_id:"",batch_flag:!0,statusfulters:[{text:"已经提交审核",value:0},{text:"审核中",value:1},{text:"审核不通过",value:2},{text:"审核通过",value:3},{text:"认证被撤销",value:4}],form:{},id:0,radio:0,index:""}},methods:{filterStatus:function(t,e){return e.state==t},filterType:function(t,e){return e.type==t},showPicture:function(t){this.picture="",this.picture=this.image_host+"/"+t,this.dialogPictures=!0},filterNode:function(t,e){return!t||e.label.indexOf(t)!==-1},currentChange:function(t,e){},nodeClick:function(t,e,i){},checkChange:function(t,e,i){if(e===!0&&4==t.access.split("/").length&&this.checkeds.indexOf(t.access)===-1)this.checkeds.push(t.access);else{var a=this.checkeds.indexOf(t.access);a!==-1&&this.checkeds.splice(a,1)}},onSelectionChange:function(t){if(t.length){this.batch_flag=!1;for(var e=[],i=0;i<t.length;i++)e.push(t[i].id);this.batch_id=e.join(",")}else this.batch_flag=!0,this.batch_id=""},setPath:function(t,e){var i=this.$route.path,a=(0,n.default)({},this.$route.query);a[t]=e,this.$router.push({path:i,query:a})},onChangeCurrentPage:function(t){this.setPath("page",t)},onChangePageSize:function(t){this.setPath("page_size",t)},getList:function(){var t=this,e={limit:this.limit,page:this.page};this.listLoading=!0,this.$$api_identity_identityList(e,function(e){for(var i=0;i<e.list.length;i++)switch(e.list[i].state){case 0:e.list[i].stateText="已经提交审核";break;case 1:e.list[i].stateText="审核中";break;case 2:e.list[i].stateText="审核不通过";break;case 3:e.list[i].stateText="审核通过";break;case 4:e.list[i].stateText="认证被撤销";break;default:e.list[i].stateText="状态错误"}t.slide_list=e.list,t.slide_count=Number(e.count),console.log(t.slide_count),t.listLoading=!1})},handleCurrentChange:function(t){this.page=t,this.getList(),this.onChangeCurrentPage(t)},checkDialog:function(t){var e=t.row;this.dialogEdit=!0,this.id=e.id,this.radio=e.state,this.index=t.$index},edit:function(){var t=this;this.dialogEdit=!1;var e={httpResourceUrl:"/"+this.id,id:this.id,state:this.radio};this.$$api_identity_identityEdit(e,function(){if(200==e.status){switch(t.slide_list[t.index].state=t.radio,t.radio){case 0:t.slide_list[t.index].stateText="已经提交审核";break;case 1:t.slide_list[t.index].stateText="审核中";break;case 2:t.slide_list[t.index].stateText="审核不通过";break;case 3:t.slide_list[t.index].stateText="审核通过";break;case 4:t.slide_list[t.index].stateText="认证被撤销";break;default:t.slide_list[t.index].stateText="状态错误"}t.$message.success("修改成功！")}})}},mounted:function(){this.getList()},watch:{$route:function(t,e){this.getList(),console.log("sassd")}}}},481:function(t,e,i){e=t.exports=i(10)(),e.push([t.id,".demo-form-inline[data-v-617094f0]{display:inline-block;float:right}.btm-action[data-v-617094f0]{margin-top:20px;text-align:center}.actions-top[data-v-617094f0]{height:46px}.pagination[data-v-617094f0]{display:inline-block}","",{version:3,sources:["/./src/components/Modules/Admin/Identity/List/List.vue"],names:[],mappings:"AACA,mCAAmC,qBAAqB,WAAW,CAClE,AACD,6BAA6B,gBAAgB,iBAAiB,CAC7D,AACD,8BAA8B,WAAW,CACxC,AACD,6BAA6B,oBAAoB,CAChD",file:"List.vue",sourcesContent:["\n.demo-form-inline[data-v-617094f0]{display:inline-block;float:right\n}\n.btm-action[data-v-617094f0]{margin-top:20px;text-align:center\n}\n.actions-top[data-v-617094f0]{height:46px\n}\n.pagination[data-v-617094f0]{display:inline-block\n}"],sourceRoot:"webpack://"}])},771:function(t,e,i){var a=i(481);"string"==typeof a&&(a=[[t.id,a,""]]);i(11)(a,{});a.locals&&(t.exports=a.locals)},797:function(t,e,i){i(771);var a=i(6)(i(304),i(825),"data-v-617094f0",null);t.exports=a.exports},825:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("el-col",{staticClass:"actions-top",attrs:{span:24}},[i("el-button",{attrs:{type:"danger",icon:"delete",disabled:t.batch_flag},on:{click:function(e){t.deleteSlide(!0)}}},[t._v("删除选中\n        ")])],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{border:"",align:"center",data:t.slide_list},on:{"selection-change":t.onSelectionChange}},[i("el-table-column",{attrs:{prop:"id",label:"id",align:"center",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"姓名",align:"center",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"type",label:"认证类型",align:"center",width:"120",filters:[{text:"个人认证",value:1},{text:"企业认证",value:2}],"filter-method":t.filterType},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(1==e.row.type?"个人认证":"企业认证")+"\n            ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"id_card",label:"身份证号",align:"center",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{prop:"company",label:"公司",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"position",label:"职位",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"picture",label:"查看图片",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){t.showPicture(e.row.picture)}}},[i("img",{attrs:{src:t.image_host+"/"+e.row.picture+"?imageView2/1/w/45/h/45/q/75|imageslim"}})])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"stateText",label:"认证状态",align:"center",width:"150",filters:t.statusfulters,"filter-method":t.filterStatus}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:260,context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"info",icon:"view",size:"mini"},on:{click:function(i){t.showPicture(e.row.picture)}}}),t._v(" "),i("el-button",{attrs:{type:"info",icon:"edit",size:"mini"},on:{click:function(i){t.checkDialog(e)}}})]}}])})],1),t._v(" "),i("el-col",{staticClass:"toolbar",attrs:{span:24}},[i("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":t.limit,total:t.slide_count},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),i("el-dialog",{attrs:{title:"图片"},model:{value:t.dialogPictures,callback:function(e){t.dialogPictures=e},expression:"dialogPictures"}},[i("img",{attrs:{src:t.picture,width:"100%"}})]),t._v(" "),i("el-dialog",{attrs:{title:"编辑",size:"tiny"},model:{value:t.dialogEdit,callback:function(e){t.dialogEdit=e},expression:"dialogEdit"}},[i("el-form",{attrs:{model:t.form}},[i("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[i("el-radio",{attrs:{label:0}},[t._v("已经提交审核")]),t._v(" "),i("el-radio",{attrs:{label:1}},[t._v("审核中")]),t._v(" "),i("el-radio",{attrs:{label:2}},[t._v("审核不通过")]),t._v(" "),i("el-radio",{attrs:{label:3}},[t._v("审核通过")]),t._v(" "),i("el-radio",{attrs:{label:4}},[t._v("认证被撤销")])],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogEdit=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.edit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=8.5c6aa0d8dde71edab417.js.map